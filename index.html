<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nguyễn Khoa Điềm &amp; Đồng dao mùa xuân &mdash; Interactive Showcase<\/title>
  <meta name="description" content="Tìm hiểu chung về tác giả Nguyễn Khoa Điềm và bài thơ 'Đồng dao mùa xuân' — Website tương tác, chuyển trang siêu nhanh #/ với hiệu ứng animation phong phú." />
  
  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" />
  
  <!-- Core styles -->
  <style>
    :root{
      --bg-1:#0e0f1a; /* deep navy */
      --bg-2:#1a1133; /* purple night */
      --fg:#e9ecf1;
      --muted:#a3acc6;
      --brand:#7c3aed; /* violet */
      --accent:#06b6d4; /* cyan */
      --lime:#84cc16;
      --glass: rgba(255,255,255,.08);
      --glass-2: rgba(255,255,255,.14);
      --radius: 18px;
      --shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--fg); background:radial-gradient(1200px 1200px at 10% 10%,rgba(124,58,237,.18),transparent 60%),
               radial-gradient(1000px 1000px at 90% 20%,rgba(6,182,212,.18),transparent 60%),
               linear-gradient(120deg,var(--bg-1),var(--bg-2));
      font-family:Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}
    .nav-blur{
      position:fixed; inset:0 auto auto 0; right:0; height:72px; z-index:1000;
      backdrop-filter: blur(8px); background: linear-gradient(90deg, rgba(124,58,237,.25), rgba(6,182,212,.18));
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .brand{
      font-weight:700; letter-spacing:.4px; padding:0 .8rem; border-radius:var(--radius);
      background:linear-gradient(135deg, var(--brand), var(--accent)); -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .nav-link{color:var(--fg)!important; opacity:.85; font-weight:600}
    .nav-link.active, .nav-link:hover{opacity:1}

    /* Hero */
    .hero{min-height:90dvh; display:grid; place-items:center; position:relative;}
    .hero .card{
      background:linear-gradient(180deg, var(--glass-2), var(--glass)); border:1px solid rgba(255,255,255,.12);
      border-radius:calc(var(--radius) * 1.3); box-shadow:var(--shadow);
    }
    .gradient-title{font-family:'Playfair Display', serif; font-size:clamp(2rem, 4vw + 1rem, 4.4rem); line-height:1.05;}
    .gradient-title span{background:linear-gradient(135deg,#fff, #c084fc 35%, #67e8f9 70%, #a3e635 100%); -webkit-background-clip:text; background-clip:text; color:transparent}
    .sub{color:var(--muted)}

    /* Generic section cards */
    section[data-route]{display:none; padding:110px 0 80px}
    .show{display:block}
    .glass{background:linear-gradient(180deg, var(--glass-2), var(--glass)); border:1px solid rgba(255,255,255,.1); border-radius:var(--radius); box-shadow:var(--shadow)}
    .chip{display:inline-flex; align-items:center; gap:.5rem; padding:.4rem .8rem; border-radius:999px; background:rgba(124,58,237,.15); border:1px solid rgba(124,58,237,.35)}

    /* Cards */
    .fancy-card{position:relative; overflow:hidden}
    .fancy-card::before{content:""; position:absolute; inset:-150% -150% auto auto; width:300%; height:300%; background:conic-gradient(from 180deg, transparent, rgba(124,58,237,.25), transparent 30%);
      filter:blur(40px); transform:rotate(20deg); animation:spin 14s linear infinite}
    @keyframes spin{to{transform:rotate(380deg)}}

    /* Gallery */
    .gallery img{width:100%; border-radius:14px; border:1px solid rgba(255,255,255,.1)}

    /* Footer */
    footer{padding:48px 0; border-top:1px solid rgba(255,255,255,.08); color:var(--muted)}

    /* Cursor */
    .cursor-dot{position:fixed; left:0; top:0; width:10px; height:10px; border-radius:50%; pointer-events:none; z-index:2000; mix-blend-mode:exclusion; background:#fff; opacity:.9}

    /* Route transition overlay */
    .page-transition{position:fixed; inset:0; pointer-events:none; z-index:1500}
    .blob{position:absolute; width:30vmax; height:30vmax; border-radius:50%; filter:blur(40px); opacity:.55; transform:translate(-50%,-50%);
      background:radial-gradient(circle at 30% 30%, rgba(124,58,237,.9), transparent 60%), radial-gradient(circle at 70% 60%, rgba(6,182,212,.9), transparent 60%);}

    /* Scrollbar */
    ::-webkit-scrollbar{height:10px; width:10px}
    ::-webkit-scrollbar-thumb{background:linear-gradient(180deg, #7c3aed, #06b6d4); border-radius:999px}
  </style>
</head>
<body>
  <canvas id="bg-stars" style="position:fixed;inset:0;z-index:-1"></canvas>
  <div id="tsparticles"></div>

  <!-- Top Navigation -->
  <div class="nav-blur">
    <div class="container h-100 d-flex align-items-center justify-content-between">
      <a class="brand fs-4" href="#/home" id="brand">Đồng dao mùa xuân</a>
      <nav class="d-flex gap-3">
        <a class="nav-link" data-link href="#/home"><i class="bi bi-stars"></i> Trang chủ</a>
        <a class="nav-link" data-link href="#/tac-gia"><i class="bi bi-person-vcard"></i> Tác giả</a>
        <a class="nav-link" data-link href="#/bai-tho"><i class="bi bi-journal-richtext"></i> Bài thơ</a>
        <a class="nav-link" data-link href="#/phan-tich"><i class="bi bi-brightness-high"></i> Phân tích</a>
        <a class="nav-link" data-link href="#/dong-thoi"><i class="bi bi-clock-history"></i> Dòng thời gian</a>
        <a class="nav-link" data-link href="#/thu-vien"><i class="bi bi-images"></i> Thư viện</a>
        <a class="nav-link" data-link href="#/quiz"><i class="bi bi-patch-question"></i> Quiz</a>
      </nav>
    </div>
  </div>

  <!-- Transition overlay blobs -->
  <div class="page-transition" aria-hidden="true">
    <div class="blob" id="blob1"></div>
    <div class="blob" id="blob2"></div>
  </div>

  <!-- ROUTES -->
  <main>
    <!-- HOME -->
    <section class="hero show" data-route="home">
      <div class="container py-5">
        <div class="row g-4 align-items-center">
          <div class="col-lg-7">
            <div class="card p-4 p-md-5 fancy-card" data-tilt data-tilt-max="10" data-tilt-speed="400" data-tilt-gyroscope="false">
              <div class="chip mb-3"><i class="bi bi-activity"></i><span>Khởi động</span></div>
              <h1 class="gradient-title" id="heroTitle">Khám phá <span>Nguyễn Khoa Điềm</span> và <span>&ldquo;Đồng dao mùa xuân&rdquo;</span></h1>
              <p class="sub fs-5">Website tương tác với chuyển trang siêu nhanh #/, hoạt ảnh mượt, hiệu ứng cuộn, và lộ chữ nghệ thuật. Cuộn, rê chuột, bấm các mục để bắt đầu hành trình.</p>
              <div class="d-flex gap-3 mt-3">
                <a class="btn btn-lg btn-primary" href="#/tac-gia"><i class="bi bi-person"></i> Vào phần Tác giả</a>
                <a class="btn btn-lg btn-outline-info" href="#/bai-tho"><i class="bi bi-book"></i> Xem Bài thơ</a>
              </div>
            </div>
          </div>
          <div class="col-lg-5">
            <div class="glass p-4 p-md-5">
              <h3 class="mb-3"><i class="bi bi-magic"></i> Điểm nhấn</h3>
              <ul class="list-unstyled m-0">
                <li class="mb-2"><i class="bi bi-check2-circle text-info"></i> Router hashtag #/ cho chuyển trang tức thì</li>
                <li class="mb-2"><i class="bi bi-check2-circle text-info"></i> GSAP, AOS, Anime.js, Tilt, ScrollTrigger</li>
                <li class="mb-2"><i class="bi bi-check2-circle text-info"></i> Nền sao động, blob gradient, glassmorphism</li>
                <li class="mb-2"><i class="bi bi-check2-circle text-info"></i> Quiz mini ôn kiến thức</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- TAC GIA -->
    <section class="container" data-route="tac-gia">
      <div class="row g-4 align-items-stretch">
        <div class="col-lg-7">
          <article class="glass p-4 p-md-5 fancy-card" data-aos="fade-up">
            <div class="chip mb-3"><i class="bi bi-person-vcard"></i><span>Tác giả</span></div>
            <h2 class="mb-3">Nguyễn Khoa Điềm (s. 1943, Thừa Thiên Huế)</h2>
            <p>
              Nhà thơ thuộc thế hệ chống Mỹ, giọng thơ trữ tình công dân, giàu suy tưởng về đất nước, nhân dân và truyền thống văn hóa.
              Tác phẩm tiêu biểu: <em>Mặt đường khát vọng</em> (trường ca, 1971, đoạn trích <em>Đất nước</em> rất nổi tiếng),
              <em>Ngôi nhà có lửa ấm</em>, <em>Cát trắng</em>, cùng nhiều tập thơ, tùy bút và bài chính luận.
            </p>
            <ul>
              <li>Phong cách: kết hợp chất suy tưởng, chất thế sự với hình ảnh dân gian, giọng tâm tình mà giàu tính luận.</li>
              <li>Chủ đề lặp lại: cội nguồn văn hóa, trách nhiệm công dân, khát vọng hòa bình, niềm tin vào con người.</li>
              <li>Giải thưởng và đóng góp: nhiều giải thưởng văn học, từng đảm nhiệm công tác lãnh đạo văn hóa.</li>
            </ul>
            <div class="alert alert-info mt-3">
              <i class="bi bi-info-circle"></i> Thông tin tóm lược, dùng cho mục tiêu học tập. Tránh trích dẫn thơ dài để tôn trọng bản quyền.
            </div>
          </article>
        </div>
        <div class="col-lg-5">
          <div class="glass p-4 h-100 d-grid align-content-start gap-3" data-aos="zoom-in">
            <h3 class="m-0">Chân dung và bối cảnh</h3>
            <p>Trưởng thành từ miền Trung, thơ ông mang âm hưởng quê xứ Huế, đồng thời đối thoại với lịch sử dân tộc trong thời chiến và hậu chiến.</p>
            <div class="gallery row g-3">
              <div class="col-6"><img alt="gradient" src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1200&auto=format&fit=crop"/></div>
              <div class="col-6"><img alt="book" src="https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1200&auto=format&fit=crop"/></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- BAI THO -->
    <section class="container" data-route="bai-tho">
      <div class="row g-4">
        <div class="col-lg-7">
          <article class="glass p-4 p-md-5 fancy-card" data-aos="fade-up">
            <div class="chip mb-3"><i class="bi bi-journal-richtext"></i><span>Bài thơ</span></div>
            <h2 class="mb-3">&ldquo;Đồng dao mùa xuân&rdquo; — Khái quát</h2>
            <p>
              Bài thơ khai thác điệu đồng dao dân gian để diễn tả niềm vui sống, niềm tin vào thế hệ trẻ và những khởi đầu tươi mới của đất nước sau chiến tranh.
              Không khí xuân rộn ràng, hình ảnh dân dã, nhịp điệu hồn nhiên tạo nền cho các suy tưởng thế sự mang đậm dấu ấn cá nhân của tác giả.
            </p>
            <ul>
              <li><strong>Thể thơ</strong>: linh hoạt, nhịp điệu đồng dao, câu ngắn, điệp âm, điệp từ.</li>
              <li><strong>Hình tượng</strong>: mùa xuân, trẻ nhỏ, cánh đồng, tiếng chim, nhựa sống, ước mơ tuổi trẻ.</li>
              <li><strong>Giọng điệu</strong>: tươi vui mà lắng đọng, hồn nhiên và giàu suy tưởng.</li>
            </ul>
            <div class="alert alert-warning"><i class="bi bi-exclamation-triangle"></i> Tránh đăng nguyên văn dài để bảo vệ bản quyền. Nên trích dẫn ngắn phục vụ học tập.</div>
          </article>
        </div>
        <div class="col-lg-5">
          <div class="glass p-4 h-100" data-aos="zoom-in">
            <h3 class="mb-2">Trích dẫn ngắn</h3>
            <p class="fst-italic">Một vài dòng ngắn, nêu nhịp điệu đồng dao và không khí xuân. (Chỉ minh họa, không đăng trọn.)</p>
            <div class="d-grid gap-2">
              <button class="btn btn-outline-light" id="revealLines"><i class="bi bi-music-note-beamed"></i> Hiệu ứng lộ chữ</button>
              <div id="lines" class="fs-5"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- PHAN TICH -->
    <section class="container" data-route="phan-tich">
      <div class="row g-4">
        <div class="col-12">
          <article class="glass p-4 p-md-5 fancy-card" data-aos="fade-up">
            <div class="chip mb-3"><i class="bi bi-brightness-high"></i><span>Phân tích nhanh</span></div>
            <div class="row g-4">
              <div class="col-md-6">
                <h3>Đề tài và cảm hứng</h3>
                <p>Mùa xuân như ẩn dụ của tái sinh và khởi đầu, đặt trong mạch suy tư công dân của nhà thơ. Đồng dao kết nối quá khứ dân gian với hiện tại trẻ trung.</p>
                <h4 class="mt-3">Nghệ thuật</h4>
                <ul>
                  <li>Nhịp điệu đồng dao tạo tính hát nói, dễ nhớ, dễ truyền.</li>
                  <li>Hình ảnh làm mới chất liệu dân gian bằng cảm quan hiện đại.</li>
                  <li>Ngôn ngữ trong sáng, giàu nhạc tính, giàu tính họa.</li>
                </ul>
              </div>
              <div class="col-md-6">
                <h3>Thông điệp</h3>
                <ul>
                  <li>Nuôi dưỡng hy vọng và trách nhiệm ở thế hệ trẻ.</li>
                  <li>Tôn vinh văn hóa dân gian như nguồn năng lượng tinh thần.</li>
                  <li>Kết nối vui tươi với chiều sâu suy tư thế sự.</li>
                </ul>
                <div class="glass p-3 mt-2">
                  <strong>Ứng dụng dạy học</strong>
                  <ul class="mb-0">
                    <li>Hoạt động đọc diễn cảm theo nhịp đồng dao.</li>
                    <li>Bản đồ tư duy: hình tượng xuân, trẻ em, cánh đồng.</li>
                    <li>Liên văn bản với <em>Đất nước</em> trong trường ca <em>Mặt đường khát vọng</em>.</li>
                  </ul>
                </div>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- DONG THOI GIAN -->
    <section class="container" data-route="dong-thoi">
      <div class="glass p-4 p-md-5 fancy-card" data-aos="fade-up">
        <div class="chip mb-3"><i class="bi bi-clock-history"></i><span>Dòng thời gian</span></div>
        <h3 class="mb-4">Mốc liên quan</h3>
        <div class="row g-4">
          <div class="col-md-4">
            <div class="p-3 glass h-100">
              <h5>1943</h5>
              <p>Sinh tại Thừa Thiên Huế.</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="p-3 glass h-100">
              <h5>1971</h5>
              <p>Trường ca <em>Mặt đường khát vọng</em>, đoạn trích <em>Đất nước</em> gây tiếng vang.</p>
            </div>
          </div>
          <div class="col-md-4">
            <div class="p-3 glass h-100">
              <h5>Hậu chiến</h5>
              <p>Thơ thế sự, cảm hứng công dân, nhiều thi phẩm về niềm tin và văn hóa dân gian.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- THU VIEN -->
    <section class="container" data-route="thu-vien">
      <div class="row g-4">
        <div class="col-lg-7">
          <div class="glass p-4 p-md-5 fancy-card" data-aos="fade-up">
            <div class="chip mb-3"><i class="bi bi-images"></i><span>Thư viện</span></div>
            <div class="row g-3 gallery">
              <div class="col-6"><img src="https://images.unsplash.com/photo-1526318472351-c75fcf070305?q=80&w=1200&auto=format&fit=crop" alt="spring"/></div>
              <div class="col-6"><img src="https://images.unsplash.com/photo-1433086966358-54859d0ed716?q=80&w=1200&auto=format&fit=crop" alt="fields"/></div>
              <div class="col-6"><img src="https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?q=80&w=1200&auto=format&fit=crop" alt="book2"/></div>
              <div class="col-6"><img src="https://images.unsplash.com/photo-1528207776546-365bb710ee93?q=80&w=1200&auto=format&fit=crop" alt="notes"/></div>
            </div>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="glass p-4 h-100" data-aos="zoom-in">
            <h3 class="mb-2">Tài liệu gợi ý</h3>
            <ul>
              <li>Nguyễn Khoa Điềm, các tập thơ chọn lọc.</li>
              <li>Trường ca <em>Mặt đường khát vọng</em> và phê bình liên quan.</li>
              <li>Chuyên luận về thơ Việt Nam giai đoạn chống Mỹ.</li>
            </ul>
            <p class="sub">Tìm thêm ở thư viện số, cơ sở dữ liệu học thuật, hoặc NXB trong nước.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- QUIZ -->
    <section class="container" data-route="quiz">
      <div class="glass p-4 p-md-5 fancy-card" data-aos="fade-up">
        <div class="chip mb-3"><i class="bi bi-patch-question"></i><span>Mini Quiz</span></div>
        <p class="sub">Chọn đáp án đúng. Hiệu ứng chấm điểm tức thì.</p>
        <div id="quizBox" class="row g-3"></div>
        <button id="submitQuiz" class="btn btn-lg btn-success mt-3"><i class="bi bi-check2-square"></i> Nộp bài</button>
        <div id="quizResult" class="mt-3 fs-5"></div>
      </div>
    </section>
  </main>

  <footer class="container">
    <div class="d-flex flex-wrap gap-3 align-items-center justify-content-between">
      <div>
        <span class="brand">HashRouter #/</span>
        <span class="ms-2 sub">Hiệu ứng mượt mà, không cần backend.</span>
      </div>
      <div class="d-flex gap-3">
        <a href="#/home" class="nav-link">Trang chủ</a>
        <a href="#/tac-gia" class="nav-link">Tác giả</a>
        <a href="#/bai-tho" class="nav-link">Bài thơ</a>
      </div>
    </div>
  </footer>

  <!-- Vendor scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.2/lib/anime.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@3.7.1/tsparticles.bundle.min.js" defer></script>

  <!-- App -->
  <script type="module">
    // Init AOS
    window.addEventListener('load', () => AOS.init({ once:false, duration:900, easing:'ease-out-cubic' }));

    // Cursor dot
    const cursor = document.createElement('div');
    cursor.className = 'cursor-dot';
    document.body.appendChild(cursor);
    window.addEventListener('mousemove', e => { cursor.style.transform = `translate(${e.clientX - 5}px, ${e.clientY - 5}px)`; });

    // Background particles with tsParticles
    const loadParticles = async () => {
      const { tsParticles } = window;
      await tsParticles.load({ id: 'tsparticles', options: {
        fullScreen: { enable: true, zIndex: -1 },
        particles: {
          number: { value: 60 },
          color: { value: ['#7c3aed','#06b6d4','#a3e635','#ffffff'] },
          shape: { type: 'circle' },
          opacity: { value: 0.5 },
          size: { value: { min:1, max:3 } },
          move: { enable: true, speed: 1, outModes: { default:'out' } },
          links: { enable: true, opacity: .25, color:'#8b5cf6' }
        },
        detectRetina: true
      }});
    };
    loadParticles();

    // Starfield canvas for extra flair
    const starCanvas = document.getElementById('bg-stars');
    const ctx = starCanvas.getContext('2d');
    const stars = Array.from({length: 90}, () => ({ x: Math.random(), y: Math.random(), z: Math.random() }));
    const onResize = () => { starCanvas.width = innerWidth; starCanvas.height = innerHeight; };
    window.addEventListener('resize', onResize); onResize();
    function draw(){
      ctx.clearRect(0,0,starCanvas.width, starCanvas.height);
      for (const s of stars){
        s.z -= 0.002; if(s.z <= 0) s.z = 1;
        const px = (s.x - .5) / s.z * starCanvas.width + starCanvas.width/2;
        const py = (s.y - .5) / s.z * starCanvas.height + starCanvas.height/2;
        const size = (1 - s.z) * 3 + 0.3;
        ctx.fillStyle = `rgba(255,255,255,${1 - s.z})`;
        ctx.beginPath(); ctx.arc(px, py, size, 0, Math.PI*2); ctx.fill();
      }
      requestAnimationFrame(draw);
    } draw();

    // Hash Router (#/route)
    const routes = [...document.querySelectorAll('section[data-route]')];
    const navLinks = [...document.querySelectorAll('[data-link]')];
    const setActiveLink = (route) => {
      navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#/${route}`));
    };

    const transitionBlobs = [document.getElementById('blob1'), document.getElementById('blob2')];
    const animateTransition = async () => new Promise(resolve => {
      const tl = gsap.timeline({ onComplete: resolve });
      tl.set(transitionBlobs, { left: '50%', top:'50%', scale: 0, opacity: .6 })
        .to(transitionBlobs, { scale: 1.2, duration: .35, ease:'power2.in' })
        .to(transitionBlobs, { scale: 0, opacity:0, duration:.5, ease:'power3.out' }, "+=.05");
    });

    const showRoute = async (route) => {
      const name = route?.replace('#/','') || 'home';
      setActiveLink(name);
      await animateTransition();
      routes.forEach(sec => sec.classList.remove('show'));
      const target = document.querySelector(`[data-route="${name}"]`) || document.querySelector('[data-route="home"]');
      target.classList.add('show');
      // entrance animations
      gsap.fromTo(target.querySelectorAll('.glass, .card, h1, h2, h3, .chip'), { y: 20, opacity: 0 }, { y: 0, opacity:1, stagger:.05, duration:.6, ease:'power2.out' });
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };

    window.addEventListener('hashchange', () => showRoute(location.hash));
    if(!location.hash) location.hash = '#/home';
    showRoute(location.hash);

    // Hero title split animation using Anime.js
    const fancyLines = [
      'Rộn ràng nhịp đồng dao',
      'Tươi mới hơi thở xuân',
      'Tin yêu thế hệ trẻ'
    ];
    const linesBox = document.getElementById('lines');
    document.getElementById('revealLines').addEventListener('click', ()=>{
      linesBox.innerHTML = '';
      fancyLines.forEach((text, i)=>{
        const el = document.createElement('div');
        el.textContent = text; el.style.opacity = 0; linesBox.appendChild(el);
        anime({ targets: el, translateY: [16,0], opacity:[0,1], duration: 700, delay: i*160, easing:'easeOutCubic' });
      });
    });

    // ScrollTrigger demo animations
    gsap.utils.toArray('.gallery img').forEach((img, i)=>{
      gsap.from(img, { scrollTrigger: { trigger: img, start:'top 85%' }, y:20, opacity:0, rotate: (i%2?3:-3), duration:.6, ease:'power2.out' });
    });

    // Quiz
    const quiz = [
      { q:'Nguyễn Khoa Điềm sinh năm nào?', a:['1930','1943','1954','1960'], c:1 },
      { q:'Đoạn trích “Đất nước” thuộc tác phẩm nào?', a:['Trường ca Mặt đường khát vọng','Ngôi nhà có lửa ấm','Cát trắng','Đồng dao mùa xuân'], c:0 },
      { q:'&ldquo;Đồng dao mùa xuân&rdquo; nhấn mạnh nhịp điệu nào?', a:['Lục bát cổ điển','Tự do siêu thực','Đồng dao dân gian','Thất ngôn bát cú'], c:2 },
      { q:'Một chủ đề lặp lại trong thơ N. K. Điềm là gì?', a:['Huyền bí kỳ ảo','Cội nguồn văn hóa và tinh thần công dân','Du ký viễn tưởng','Triết học siêu hình phương Tây'], c:1 }
    ];

    const quizBox = document.getElementById('quizBox');
    quiz.forEach((item, idx)=>{
      const card = document.createElement('div'); card.className = 'col-12';
      card.innerHTML = `
        <div class="p-3 glass">
          <div class="fw-bold mb-2">${idx+1}. ${item.q}</div>
          ${item.a.map((opt, i)=>`<label class="d-block mb-1"><input class="form-check-input me-2" type="radio" name="q${idx}" value="${i}"> ${opt}</label>`).join('')}
        </div>`;
      quizBox.appendChild(card);
    });

    document.getElementById('submitQuiz').addEventListener('click', ()=>{
      let score = 0; let total = quiz.length;
      quiz.forEach((item, idx)=>{
        const picked = document.querySelector(`input[name=q${idx}]:checked`);
        if(picked && Number(picked.value) === item.c) score++;
      });
      const r = document.getElementById('quizResult');
      r.innerHTML = `Điểm: <strong>${score}/${total}</strong>`;
      gsap.fromTo(r, { scale:.9, opacity:0 }, { scale:1, opacity:1, duration:.4, ease:'back.out(2)' });
    });

    // Hover magnetic brand
    const brand = document.getElementById('brand');
    brand.addEventListener('mousemove', (e)=>{
      const rect = brand.getBoundingClientRect();
      const dx = (e.clientX - rect.left) / rect.width - .5;
      const dy = (e.clientY - rect.top) / rect.height - .5;
      gsap.to(brand, { x: dx*6, y: dy*6, rotate: dx*4, duration:.2 });
    });
    brand.addEventListener('mouseleave', ()=> gsap.to(brand, { x:0, y:0, rotate:0, duration:.3 }));
  </script>
</body>
</html>
